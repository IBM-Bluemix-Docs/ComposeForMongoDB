---

copyright:
  years: 2017,2018
lastupdated: "2017-06-17"
---

{:new_window: target="_blank"}
{:shortdesc: .shortdesc}
{:screen: .screen}
{:codeblock: .codeblock}
{:pre: .pre}
{:tip: .tip}

# {{site.data.keyword.composeForMongoDB}} のユーザー・ノート
{: #user-notes-compose-for-mongodb}

これらのユーザー・ノートでは、{{site.data.keyword.composeForMongoDB}} ユーザーが提起したさまざまなトピックについて説明します。

## 管理データベース

管理データベースにデータを保管した場合は、パフォーマンスがあまり良くなく、データ損失のリスクもあります。

他の MongoDB インストール環境と同様に、{{site.data.keyword.composeForMongoDB}} にも管理データベースがあります。管理データベースには、データベース内のユーザーおよび役割に関する情報と、さまざまなトラッキング・コレクションが保持されます。単純な MongoDB インストール環境では、これが他のデータと一緒にデータベースに保管されます。 

{{site.data.keyword.composeForMongoDB}} は、MongoDB のシャード・アーキテクチャーを使用する、回復力の高いアーキテクチャーです。 このアーキテクチャーでは、シャード間に管理データを分散させます。そのために、管理データベースを含む別のデータベース・クラスターが作成されます。

このクラスター管理データベースは拡張できるように構築されておらず、少量でもデータが保管されるとすぐに性能が低下します。 したがって、アプリケーションは管理データベースにデータを書き込まないようにする必要があります。

## 接続ストリング

クライアント・サイドのフェイルオーバーは、アプリケーション設計者の責任です。フェイルオーバー・エラーを完全に処理するドライバーを使用する場合を除き、以下を行う必要があります。

* 接続構成で複数のエンドポイントを受け入れるドライバーを使用する。
* データベースで読み書きを行うアプリケーション呼び出しのエラー処理が適切であることを確認する。次のような選択肢があります。
  + エラーをログに記録して再接続する。
  + 再接続し、エラーを出した操作を再試行する。
  + 失敗した操作をキューイングして再接続をスケジューリングする。






